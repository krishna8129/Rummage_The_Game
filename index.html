<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Rummage: The Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="dark light">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">

</head>
<body>
  <div id="app">
    <header id="topbar">
      <div class="brand glass">
        <div class="brand-logo" aria-hidden="true"></div>
        <div class="brand-title" aria-label="Game title">Rummage</div>
      </div>
      <nav class="toolbar">
        <button class="btn btn-primary" id="btnPlay" aria-label="Start game">Play</button>
        <button class="btn" id="btnPause" aria-label="Pause game">Pause</button>
        <button class="btn" id="btnReset" aria-label="Reset game">Reset</button>
        <button class="btn" id="btnHelp" aria-label="Open help">Help</button>
        <button class="btn" id="btnSettings" aria-label="Open settings">Settings</button>
      </nav>
      <section class="status">
        <div class="stat glass" role="status" aria-live="polite">
          <div class="value" id="statScore">0</div>
          <div class="label">Score</div>
        </div>
        <div class="stat glass">
          <div class="value" id="statTime">03:00</div>
          <div class="label">Time</div>
        </div>
        <div class="stat glass">
          <div class="value" id="statStreak">x0</div>
          <div class="label">Streak</div>
        </div>
      </section>
    </header>

    <aside id="sidebar">
      <div class="panel glass">
        <div class="panel-header">
          <div class="panel-title">Quests</div>
          <div class="badge">Daily</div>
        </div>
        <div class="list" id="questList" role="list">
          <div class="list-item" role="listitem">
            <div class="chip success">Active</div>
            <div>Find 5 rare artifacts</div>
            <div class="chip">0/5</div>
          </div>
          <div class="list-item" role="listitem">
            <div class="chip warn">New</div>
            <div>Clear 3 trap tiles</div>
            <div class="chip">0/3</div>
          </div>
          <div class="list-item" role="listitem">
            <div class="chip danger">Hard</div>
            <div>Achieve 2 flawless rounds</div>
            <div class="chip">0/2</div>
          </div>
        </div>
      </div>

      <div class="panel glass">
        <div class="panel-header">
          <div class="panel-title">Inventory</div>
          <div class="badge">Capacity 36</div>
        </div>
        <div class="inventory-grid" id="inventory">
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="rare"><span>Compass</span><span class="qty">1</span></div>
          <div class="slot" data-rarity="epic"><span>Chronometer</span><span class="qty">1</span></div>
          <div class="slot" data-rarity="legendary"><span>Oracle Lens</span><span class="qty">1</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="rare"><span>Shovel</span><span class="qty">2</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="rare"><span>Scanner</span><span class="qty">1</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
          <div class="slot" data-rarity="common"><span>Empty</span></div>
        </div>
      </div>

      <div class="panel glass">
        <div class="panel-header">
          <div class="panel-title">Achievements</div>
          <div class="badge">3/12</div>
        </div>
        <div class="list">
          <div class="list-item">
            <div class="chip success">Unlocked</div>
            <div>First Find</div>
            <div class="chip">+100</div>
          </div>
          <div class="list-item">
            <div class="chip warn">Progress</div>
            <div>Cartographer</div>
            <div class="chip">72%</div>
          </div>
          <div class="list-item">
            <div class="chip">Hidden</div>
            <div>Silent Sweep</div>
            <div class="chip">0%</div>
          </div>
        </div>
      </div>

      <div class="panel glass">
        <div class="panel-header">
          <div class="panel-title">Leaderboard</div>
          <div class="badge">Season 4</div>
        </div>
        <div class="list" id="leaderboard">
          <div class="list-item">
            <div class="chip">#1</div>
            <div>RogueRelic</div>
            <div class="chip success">245,980</div>
          </div>
          <div class="list-item">
            <div class="chip">#2</div>
            <div>EchoScout</div>
            <div class="chip success">231,420</div>
          </div>
          <div class="list-item">
            <div class="chip">#3</div>
            <div>DustDiver</div>
            <div class="chip success">219,030</div>
          </div>
        </div>
      </div>
    </aside>

    <main id="board">
      <div class="panel glass">
        <div class="hud">
          <div class="powerups" aria-label="Active power-ups">
            <div class="powerup">
              <div class="icon" aria-hidden="true"></div>
              <div>Trace Sweep</div>
              <button class="cta" data-action="activate">Use</button>
            </div>
            <div class="powerup">
              <div class="icon" aria-hidden="true" style="background: radial-gradient(circle at 30% 20%, var(--gold), #ff9f43)"></div>
              <div>Time Fold</div>
              <button class="cta" data-action="activate">Use</button>
            </div>
            <div class="powerup">
              <div class="icon" aria-hidden="true" style="background: radial-gradient(circle at 30% 20%, var(--accent-2), #ff8ab0)"></div>
              <div>Trap Shield</div>
              <button class="cta" data-action="activate">Use</button>
            </div>
          </div>
          <div class="progress" aria-label="Round progress">
            <span id="roundProgress"></span>
          </div>
          <div class="chip" id="roundLabel">Round 1</div>
        </div>
      </div>

      <div class="grid-wrap">
        <div class="panel-title" style="padding:0 6px">Expedition Grid</div>
        <div class="game-grid" id="gameGrid" role="grid" aria-label="Rummage grid">
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral"><div class="marker"></div>1</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="trap"><div class="marker"></div>!</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="treasure"><div class="marker"></div>★</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">2</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">3</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">4</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="trap"><div class="marker"></div>!</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">5</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">6</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">7</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">8</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="treasure"><div class="marker"></div>★</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">9</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">10</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">11</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="trap"><div class="marker"></div>!</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">12</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">13</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="neutral">14</div>
          <div class="cell" role="gridcell" tabindex="0" data-type="treasure"><div class="marker"></div>★</div>
        </div>
      </div>
    </main>

    <aside id="rightbar">
      <div class="panel glass right-card">
        <div class="panel-header">
          <div class="panel-title">Explorer</div>
          <div class="badge">Online</div>
        </div>
        <div class="avatar">
          <div class="img" aria-hidden="true"></div>
          <div>
            <div class="name">You</div>
            <div class="chip">Pune, India</div>
          </div>
          <div class="level">Lv. 7</div>
        </div>
        <div class="tabs" role="tablist" aria-label="Profile tabs">
          <button class="tab" role="tab" aria-selected="true" aria-controls="tabStats">Stats</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="tabUpgrades">Upgrades</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="tabJournal">Journal</button>
        </div>
        <div id="tabStats" role="tabpanel">
          <div class="list">
            <div class="list-item">
              <div class="chip">Accuracy</div>
              <div>83%</div>
              <div class="chip success">+2%</div>
            </div>
            <div class="list-item">
              <div class="chip">Discoveries</div>
              <div>124</div>
              <div class="chip success">+5</div>
            </div>
            <div class="list-item">
              <div class="chip">Traps Triggered</div>
              <div>9</div>
              <div class="chip danger">-1 last</div>
            </div>
          </div>
        </div>
        <div id="tabUpgrades" role="tabpanel" hidden>
          <div class="shop-grid">
            <div class="shop-item">
              <div class="title">Phase Scanner</div>
              <div class="chip">Reveal adjacent tiles</div>
              <div class="buy">
                <div class="price">2,500</div>
                <button class="btn">Buy</button>
              </div>
            </div>
            <div class="shop-item">
              <div class="title">Luck Charm</div>
              <div class="chip">+3% rare drops</div>
              <div class="buy">
                <div class="price">1,400</div>
                <button class="btn">Buy</button>
              </div>
            </div>
            <div class="shop-item">
              <div class="title">Trap Nullifier</div>
              <div class="chip">Negate next trap</div>
              <div class="buy">
                <div class="price">3,100</div>
                <button class="btn">Buy</button>
              </div>
            </div>
            <div class="shop-item">
              <div class="title">Chrono Tether</div>
              <div class="chip">+20s time</div>
              <div class="buy">
                <div class="price">2,800</div>
                <button class="btn">Buy</button>
              </div>
            </div>
          </div>
        </div>
        <div id="tabJournal" role="tabpanel" hidden>
          <div class="list">
            <div class="list-item">
              <div class="chip">Log</div>
              <div>Entered Ruins of Velora</div>
              <div class="chip">2m ago</div>
            </div>
            <div class="list-item">
              <div class="chip">Log</div>
              <div>Recovered Ancient Dial</div>
              <div class="chip">6m ago</div>
            </div>
            <div class="list-item">
              <div class="chip">Log</div>
              <div>Avoided Sandspike Trap</div>
              <div class="chip">10m ago</div>
            </div>
          </div>
        </div>
      </div>

      <div class="panel glass">
        <div class="panel-header">
          <div class="panel-title">Hints</div>
          <div class="badge">Adaptive</div>
        </div>
        <div class="list">
          <div class="list-item">
            <div class="chip">Tip</div>
            <div>Treasure clusters avoid trap edges by one tile.</div>
            <div class="chip">Insight</div>
          </div>
          <div class="list-item">
            <div class="chip">Tip</div>
            <div>Use Trace Sweep when streak exceeds x3 for bonus.</div>
            <div class="chip">Combo</div>
          </div>
        </div>
      </div>

      <div class="panel glass">
        <div class="panel-header">
          <div class="panel-title">Events</div>
          <div class="badge">Live</div>
        </div>
        <div class="list">
          <div class="list-item">
            <div class="chip">Now</div>
            <div>Sandstorm Surge: visibility reduced</div>
            <div class="chip danger">Hazard</div>
          </div>
          <div class="list-item">
            <div class="chip">Next</div>
            <div>Golden Vein: +10% treasure rate</div>
            <div class="chip success">Boost</div>
          </div>
        </div>
      </div>
    </aside>

    <footer id="footer">
      <div class="footer-left">
        <div class="control">
          <label for="musicVol">Music volume</label>
          <input id="musicVol" type="range" min="0" max="100" value="64">
        </div>
        <div class="control">
          <label for="sfxVol">SFX volume</label>
          <input id="sfxVol" type="range" min="0" max="100" value="72">
        </div>
        <div class="control">
          <label for="difficulty">Difficulty</label>
          <select id="difficulty">
            <option>Casual</option>
            <option selected>Explorer</option>
            <option>Veteran</option>
            <option>Mythic</option>
          </select>
        </div>
        <div class="control">
          <label for="theme">Theme</label>
          <select id="theme">
            <option selected>Midnight</option>
            <option>Desert</option>
            <option>Ocean</option>
            <option>Aurora</option>
          </select>
        </div>
      </div>
      <div class="footer-right">
        <div class="control">
          <label>Hotkeys</label>
          <div class="chip">Space: Reveal</div>
          <div class="chip">R: Reset</div>
          <div class="chip">H: Help</div>
        </div>
        <div class="control">
          <label>Round seed</label>
          <input type="text" id="seed" placeholder="Enter seed">
        </div>
        <div class="control">
          <label>Account</label>
          <div class="chip">Guest</div>
          <button class="btn">Sign in</button>
        </div>
        <div class="control">
          <label>Streaming</label>
          <div class="chip">Status: Idle</div>
          <button class="btn">Connect</button>
        </div>
      </div>
    </footer>
  </div>

  <div class="overlay" id="overlay" data-open="false"></div>

  <div class="modal-root" aria-hidden="true" id="modalRoot">
    <div class="modal glass" id="modalHelp" role="dialog" aria-modal="true" aria-labelledby="modalHelpTitle" hidden>
      <div class="modal-header">
        <div class="panel-title" id="modalHelpTitle">How to play Rummage</div>
        <button class="btn" data-close>Close</button>
      </div>
      <div class="modal-body">
        <div class="list">
          <div class="list-item">
            <div class="chip">Goal</div>
            <div>Reveal treasure tiles without triggering traps.</div>
            <div class="chip">Win</div>
          </div>
          <div class="list-item">
            <div class="chip">Controls</div>
            <div>Click to reveal, Shift+Click to mark suspicion.</div>
            <div class="chip">Mastery</div>
          </div>
          <div class="list-item">
            <div class="chip">Strategy</div>
            <div>Use hints, track patterns, leverage power-ups.</div>
            <div class="chip">Smart</div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal glass" id="modalSettings" role="dialog" aria-modal="true" aria-labelledby="modalSettingsTitle" hidden>
      <div class="modal-header">
        <div class="panel-title" id="modalSettingsTitle">Settings</div>
        <button class="btn" data-close>Close</button>
      </div>
      <div class="modal-body">
        <div class="list">
          <div class="list-item">
            <div class="chip">Graphics</div>
            <div>
              <label><input type="checkbox" id="fxBloom" checked> Bloom</label>
            </div>
            <div class="chip">On</div>
          </div>
          <div class="list-item">
            <div class="chip">Accessibility</div>
            <div>
              <label><input type="checkbox" id="reduceMotion"> Reduce motion</label>
            </div>
            <div class="chip">Off</div>
          </div>
          <div class="list-item">
            <div class="chip">Language</div>
            <div>
              <select id="lang">
                <option selected>English</option>
                <option>हिन्दी</option>
                <option>मराठी</option>
              </select>
            </div>
            <div class="chip">Global</div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal glass" id="modalGameOver" role="dialog" aria-modal="true" aria-labelledby="modalGameOverTitle" hidden>
      <div class="modal-header">
        <div class="panel-title" id="modalGameOverTitle">Game over</div>
        <button class="btn" data-close>Close</button>
      </div>
      <div class="modal-body">
        <div class="list">
          <div class="list-item">
            <div class="chip">Score</div>
            <div id="finalScore">0</div>
            <div class="chip">Summary</div>
          </div>
          <div class="list-item">
            <div class="chip">Best streak</div>
            <div id="finalStreak">x0</div>
            <div class="chip">Peak</div>
          </div>
          <div class="list-item">
            <div class="chip">Artifacts</div>
            <div id="finalArtifacts">0</div>
            <div class="chip">Found</div>
          </div>
        </div>
        <div style="display:flex; gap:8px; margin-top:8px">
          <button class="btn btn-primary">Play again</button>
          <button class="btn">Share</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toast-stack" id="toasts" aria-live="polite" aria-atomic="true">
    <div class="toast">
      <div class="chip success">Bonus</div>
      <div>Streak x3 activated</div>
      <button class="btn">Nice!</button>
    </div>
  </div>

  <audio id="sfxReveal" preload="auto" src=""></audio>
  <audio id="sfxTrap" preload="auto" src=""></audio>
  <audio id="sfxTreasure" preload="auto" src=""></audio>

  <script>
    const overlay = document.getElementById('overlay');
    const modalRoot = document.getElementById('modalRoot');
    const help = document.getElementById('modalHelp');
    const settings = document.getElementById('modalSettings');
    const gameOver = document.getElementById('modalGameOver');
    const open = el => { overlay.dataset.open = 'true'; el.hidden = false; modalRoot.setAttribute('aria-hidden','false') };
    const close = () => { overlay.dataset.open = 'false'; [help, settings, gameOver].forEach(m => m.hidden = true); modalRoot.setAttribute('aria-hidden','true') };
    document.getElementById('btnHelp').addEventListener('click', () => open(help));
    document.getElementById('btnSettings').addEventListener('click', () => open(settings));
    modalRoot.addEventListener('click', e => { if (e.target.dataset.close !== undefined) close() });
    overlay.addEventListener('click', close);
    const tabs = Array.from(document.querySelectorAll('.tab'));
    const panels = ['tabStats','tabUpgrades','tabJournal'].map(id => document.getElementById(id));
    tabs.forEach((t,i) => t.addEventListener('click', () => {
      tabs.forEach(x => x.setAttribute('aria-selected','false'));
      panels.forEach(p => p.hidden = true);
      t.setAttribute('aria-selected','true');
      panels[i].hidden = false;
    }));
  </script>
</body>
</html>

